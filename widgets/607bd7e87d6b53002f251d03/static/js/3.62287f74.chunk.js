(this["webpackJsonp_freelog-novel-react"]=this["webpackJsonp_freelog-novel-react"]||[]).push([[3],{37:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return a}))},40:function(e,t,r){"use strict";r.r(t);var n=r(37),c=r(7),a=r.n(c),s=r(9),o=r(17),i=r(0),l=r(1),p=function(e){var t=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],r=["","\u5341","\u767e","\u5343","\u4e07"];e=parseInt(e);var n=function(e){for(var n=e.toString().split("").reverse(),c="",a=0;a<n.length;a++)c=(0==a&&0==n[a]||a>0&&0==n[a]&&0==n[a-1]?"":t[n[a]]+(0==n[a]?r[0]:r[a]))+c;return c},c=Math.floor(e/1e4),a=e%1e4;return a.toString().length<4&&(a="0"+a),c?n(c)+"\u4e07"+n(a):n(e)},b=r(2),f=Object(i.lazy)((function(){return r.e(4).then(r.bind(null,39))}));t.default=Object(l.f)((function(e){var t=e.match.params.id,r=Object(i.useState)({}),c=Object(o.a)(r,2),l=c[0],u=c[1],d=Object(i.useState)([]),j=Object(o.a)(d,2),h=j[0],O=j[1];Object(i.useEffect)(Object(s.a)(a.a.mark((function e(){var r,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.freelogApp.getPresentablesSearch({presentableIds:t});case 2:return r=e.sent,e.next=5,window.freelogApp.getResourceInfoById(t);case 5:if(c=e.sent,console.log(r,c),!c.data.errCode){e.next=11;break}return e.next=10,new Promise((function(e,r){console.log(c),window.freelogApp.addAuth(c.data.presentableId,Object(s.a)(a.a.mark((function r(){var n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.freelogApp.getResourceInfoById(t);case 2:n=r.sent,console.log(e),e&&e(n);case 5:case"end":return r.stop()}}),r)}))),(function(){}),{immediate:!0})}));case 10:c=e.sent;case 11:return console.log(c),u(Object(n.a)(Object(n.a)({},r.data.data[0]),{},{intro:c.data.data.intro})),e.next=15,window.freelogApp.getPresentables({resourceType:"chapter",tags:r.data.data[0].presentableName,isLoadVersionProperty:1});case 15:o=e.sent,i=o.data.data.dataList,console.log(i),i.sort((function(e,t){var r=0,n=1;try{r=parseInt(e.versionProperty.chapter),n=parseInt(t.versionProperty.chapter)}catch(c){console.log("chapter \u8bbe\u7f6e\u9519\u8bef "+e.presentableName+" \u6216\u8005 "+t.presentableName)}return r-n})),i=i.map((function(e,t){return e.chapterIndex="\u7b2c"+p(t+1)+"\u7ae0",e})),O(o.data.data.dataList||[]);case 21:case"end":return e.stop()}}),e)}))),[]);var x=Object(i.useState)(!1),m=Object(o.a)(x,2),v=m[0],g=m[1],w=Object(i.useState)(!1),y=Object(o.a)(w,2),N=y[0],P=y[1],I=Object(i.useState)(!1),S=Object(o.a)(I,2),k=S[0],A=S[1];return Object(b.jsxs)("div",{className:"flex-column w-100x h-100x over-h",children:[N?Object(b.jsx)(f,{current:v,setVisible:function(e){P(!!e)}}):"",Object(b.jsx)("div",{className:"bg-white bb-1 px-20 py-15 flex-row shrink-0",children:Object(b.jsxs)("div",{onClick:function(){e.history.push("/")},onTouchStart:function(){console.log(23232),A(!0)},onTouchEnd:function(){A(!1)},className:"text-ellipsis flex-row align-center"+(k?" fc-nav-active":""),children:[Object(b.jsx)("div",{className:"mr-5 fs-40 pb-5"+(k?"":" fc-less"),children:"<"})," ",Object(b.jsx)("div",{className:"fs-30 text-ellipsis flex-1 lh-55",children:l.presentableName})]})}),Object(b.jsx)("div",{className:"flex-1 over-h w-100x",children:Object(b.jsxs)("div",{className:"flex-column h-100x y-auto w-100x",children:[Object(b.jsxs)("div",{className:"flex-column bb-1",children:[Object(b.jsx)("div",{className:"fw-bold fs-35 py-20 bg-less px-20",children:"\u7b80\u4ecb"}),Object(b.jsx)("div",{className:"fs-30 px-30 py-20 mb-20 lh-50",children:l.intro?Object(b.jsx)("p",{className:"",children:l.intro}):Object(b.jsx)("span",{className:"fc-less f-italic",children:"\u6682\u65e0"})})]}),Object(b.jsxs)("div",{className:"flex-column",children:[Object(b.jsxs)("div",{className:"fw-bold fs-35 py-20 px-20 bg-less",children:["\u7ae0\u8282\uff08\u5171",h.length,"\u7ae0\uff09"]}),h.map((function(e,t){return Object(b.jsx)("div",{className:"fs-30 pl-40 pr-10 py-30 bb-1 text-pre-wrap",onClick:function(){g({bookInfo:l,chapters:h,chapterIndex:t}),P(!0)},children:e.chapterIndex+"      "+e.presentableName},t)}))]}),Object(b.jsx)("div",{className:"fc-less w-100x mb-20 mt-10 text-center f-italic fs-30",children:"\u5230\u5e95\u5566...."})]})})]})}))}}]);
//# sourceMappingURL=3.62287f74.chunk.js.map