(this["webpackJsonp_freelog-novel-react"]=this["webpackJsonp_freelog-novel-react"]||[]).push([[4],{39:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var c=n(37),a=n(7),s=n.n(a),r=n(9),i=n(17),l=n(0),o=n(2);function b(e){var t=Object(l.useState)(!1),n=Object(i.a)(t,2),a=n[0],b=n[1],u=Object(l.useState)(!1),d=Object(i.a)(u,2),f=d[0],x=d[1],j=Object(l.useState)(!1),p=Object(i.a)(j,2),h=p[0],w=p[1],O=e.current.chapters,m=Object(l.useState)(e.current.chapterIndex),v=Object(i.a)(m,2),g=v[0],N=v[1],T=Object(l.useState)(O[g]),S=Object(i.a)(T,2),y=S[0],k=S[1],D=Object(l.useState)(0),I=Object(i.a)(D,2),A=I[0],E=I[1],B=Object(l.useRef)(null);function C(e){return F.apply(this,arguments)}function F(){return(F=Object(r.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O[t]){e.next=11;break}return e.next=3,window.freelogApp.getFileStreamById(O[t].presentableId);case 3:if(!(n=e.sent).data.errCode){e.next=8;break}return e.next=7,new Promise((function(e,c){window.freelogApp.addAuth(n.data.presentableId,Object(r.a)(s.a.mark((function n(){var c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.freelogApp.getFileStreamById(O[t].presentableId);case 2:c=n.sent,e(c);case 4:case"end":return n.stop()}}),n)}))),(function(){}),{immediate:!0})}));case 7:n=e.sent;case 8:N(t),k(Object(c.a)(Object(c.a)({},O[t]),{},{data:n.data})),B.current.scrollTop=0;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){C(g)}),[]),Object(o.jsxs)("div",{className:"p-absolute w-100x h-100x over-h flex-column z-100  fadeInDown bg-less",children:[Object(o.jsxs)("div",{className:"flex-row w-100x over-h align-center py-10 pr-10 bb-1 b-box",children:[Object(o.jsx)("div",{className:(a?" fc-nav-active":"fc-less")+" fs-40 mb-10 px-20 pl-10 ",onClick:function(){e.setVisible(!1)},onTouchStart:function(){b(!0)},onTouchEnd:function(){b(!1)},children:"x"}),Object(o.jsx)("div",{className:"flex-1 over-h h-55",children:Object(o.jsx)("div",{className:"fs-30 text-ellipsis w-100x b-box text-align-center pr-40 lh-55",children:y.presentableName})})]}),Object(o.jsx)("div",{className:"flex-1 w-100x over-h",children:Object(o.jsxs)("div",{className:"w-100x h-100x y-auto fs-35 px-20 pt-30 flex-column b-box",ref:B,children:[Object(o.jsx)("p",{className:"lh-50 ls-4 text-pre-wrap px-10 flex-1",children:y.data||""}),Object(o.jsx)("div",{className:"fc-less w-100x  py-30 text-center f-italic",children:"\u672c\u7ae0\u7ed3\u675f...."})]})}),Object(o.jsxs)("div",{className:"flex-row fs-30 bt-1 align-center",children:[Object(o.jsx)("div",{className:(h?" fc-nav-active":"")+" w-260 text-align-center py-20 bg-white "+(0===g?"fc-less disabled":""),onTouchStart:function(){E((new Date).getTime()),console.log(23232),w(!0)},onTouchEnd:function(){(new Date).getTime()-A>50&&(new Date).getTime()-A<500&&C(g-1),w(!1)},children:"\u4e0a\u4e00\u7ae0"}),Object(o.jsxs)("div",{className:"flex-1 bg-less text-align-center",children:[g+1,"/",O.length]}),Object(o.jsx)("div",{className:(f?" fc-nav-active":"")+" w-260 text-align-center py-20 bg-white "+(g===O.length-1?"fc-less disabled":""),onTouchStart:function(){E((new Date).getTime()),x(!0)},onTouchEnd:function(){(new Date).getTime()-A>50&&(new Date).getTime()-A<500&&C(g+1),x(!1)},children:"\u4e0b\u4e00\u7ae0"})]})]})}}}]);
//# sourceMappingURL=4.e0147098.chunk.js.map