(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{449:function(e,t,s){},506:function(e,t,s){"use strict";var a=s(449);s.n(a).a},514:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rich-editor-wrapper",class:{"full-screen":e.isFullscreen}},[s("quill-rich-editor",{ref:"richEditor",staticClass:"rich-text-editor",attrs:{options:e.editorOption},on:{change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e._v(" "),s("el-dialog",{attrs:{visible:e.showImgUploader,center:"",width:"500px"},on:{"update:visible":function(t){e.showImgUploader=t}}},[s("el-upload",{ref:"imgUploader",staticClass:"rich-editor-upload-img",attrs:{drag:"","with-credentials":!0,action:e.qiHostname,"on-success":e.uploadImageSuccessHandler,"on-error":e.uploadImageErrorHandler,"auto-upload":!0}},[s("i",{staticClass:"el-icon-upload"}),e._v(" "),s("div",{staticClass:"el-upload__text"},[e._v(e._s(e.$t("components.richEditor.uploadTip")))])])],1)],1)};a._withStripped=!0;s(583),s(584),s(585);var n=s(586),i=s.n(n),o=s(587),r={name:"fl-rich-editor",data:function(){var e=this;return{editor:null,showImgUploader:!1,content:"",isFullscreen:!1,editorOption:{placeholder:this.placeholder,modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],["link","image","video"],["omega"]],handlers:{image:function(){e.showImgUploader=!0,e.uploadImgState={cursorIndex:this.quill.selection.savedRange.index}}}}}}}},props:{value:{type:String,default:function(){return""}},config:{type:Object,default:function(){return{}}},placeholder:String},watch:{},computed:{qiHostname:function(){return(window.FreelogApp&&window.FreelogApp.Env.qiOrigin||"")+"/v1/resources/uploadPreviewImage"}},mounted:function(){var e=this;this.createEditor();var t=this.$watch("value",function(){e.value&&(e.content=e.value),t()})},components:{"quill-rich-editor":o.quillEditor},methods:{uploadImageSuccessHandler:function(e,t){this.$emit("load",{file:t,data:e}),this.resetImgUploaderState()},uploadImageErrorHandler:function(){this.resetImgUploaderState()},resetImgUploaderState:function(){this.$refs.imgUploader.clearFiles(),this.uploadImgState.cursorIndex="",this.showImgUploader=!1},createEditor:function(){var e=this;this.editor=this.$refs.richEditor.quill;var t=this.$el.querySelector(".ql-omega");i.a.enabled?(t.addEventListener("click",function(){i.a.toggle(e.$el)}),i.a.on("change",function(){e.isFullscreen=i.a.isFullscreen})):t.remove(),this.setHtml(this.value||"")},getHtml:function(){return this.content},setHtml:function(e){this.editor?this.editor.setContents(e):console.warn("还未创建编辑器")},insertImg:function(e){this.editor.insertEmbed(this.uploadImgState.cursorIndex,"image",e)},getEditor:function(){return this.editor},onEditorChange:function(e){var t=e.html;this.$emit("input",t)}}},c=(s(506),s(3)),l=Object(c.a)(r,a,[],!1,null,null,null);l.options.__file="src/components/RichEditor/index.vue";t.a=l.exports},680:function(e,t,s){},681:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"release":"发行","releaseID":"发行ID","policiesComparison":"策略对比","selectionPlaceholder":"请选择签约节点","noDesc":"暂无描述","warings":["当前发行未上线，无可用策略！","当前发行的上抛发行未上线，不可用！","你还没有创建节点；"],"messages":["请先选择签约的节点","未选择授权策略！","签约成功！","授权签约成功；即将跳转至节点发行管理页！"],"titles":["添加节点","当前发行","基础上抛","资源描述","签约确认"],"iconTexts":["上抛","已签约"],"steps":["步骤1：选择签约节点","步骤2：选择授权策略"],"linkBtns":{"editRelease":"前去编辑","createNode":"前去创建"},"btns":{"cancel":"取消","sign":"签约","getAuth":"获取授权"},"signPolicyBox":{"titles":["已签约至","历史合约"],"signState":"作为被授权方，如果您满足且接受授权方的授权策略，则可以选择和授权方签约。授权双方之间存在一个按照未来发生的事件改变资源授权状态的机制，称之为合约。","signRuleState1":"合约的复用：授权方和被授权方的合约在同一个授权方（节点或发行）范围内可以复用。","signRuleState2":"合约的启用和停用：如果您和授权方的多个授权策略签订了多个合约，则在管理合约时，至少要有一个合约是启用状态。您可以选择启用或者停用其中某一个或某几个合约，在授权链中，系统仅会验证启用合约的授权状态。","tips":["存在历史签约，可复用此合约","以下策略可进行新的签约"],"contractID":"合同ID","signDate":"签约时间"},"signConfirm":{"title1":"选择的节点","title2":"策略确认"}},"en":{"release":"Release ","releaseID":"Release ID","policiesComparison":"Policies comparison","selectionPlaceholder":"Please select a contract node","noDesc":"No description","warings":["The current release is not online, no strategy is available!","The current upsell issue is not online and is not available!","You have not created a node;"],"messages":["Please select the contracted node first"," have not chosen a policy!","Successful signing!","Successful authorization signing; will soon jump to the node distribution management page!"],"titles":["Add node","Current release","Put on basis","Resource description","Confirmation"],"iconTexts":["Upsell","Signed"],"steps":["Step 1: Select a contract node","Step 2: Select Authorization Policy"],"linkBtns":{"editRelease":"Go to edit","createNode":"Go to create"},"btns":{"cancel":"cancel","sign":"Sign a contract","getAuth":"Get authorized"},"signPolicyBox":{"titles":["Signed to ","Historical contract"],"signState":"As an authorized party, if you meet and accept the authorized party\'s authorization policy, you can choose to sign up with the authorized party. There is a mechanism between authorized parties to change the status of resource authorization according to future events, which is called a contract.","signRuleState1":"Reuse of contracts: Contracts of authorized parties and authorized parties can be reused within the same authorized party (node or issue).","signRuleState2":"Activation and deactivation of contracts: If you have multiple contracts with multiple authorization policies of the licensor, at least one contract must be active when managing the contract. You can choose to enable or disable one or more of these contracts. In the authorization chain, the system will only verify the authorization status of the enabled contracts.","tips":["This issue has a historical contract and can be used directly.","The following policies are available for new signings"],"contractID":"Contract ID","signDate":"Sign Date"},"signConfirm":{"title1":"Selected nodes","title2":"Policy confirmation"}}}'),delete e.options._Ctor}},682:function(e,t,s){},683:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"release":"发行","releaseID":"发行ID","policiesComparison":"策略对比","selectionPlaceholder":"请选择签约节点","noDesc":"暂无描述","warings":["当前发行未上线，无可用策略！","当前发行的上抛发行未上线，不可用！","你还没有创建节点；"],"messages":["请先选择签约的节点","未选择授权策略！","签约成功！","授权签约成功；即将跳转至节点发行管理页！"],"titles":["添加节点","当前发行","基础上抛","资源描述","签约确认"],"iconTexts":["上抛","已签约"],"steps":["步骤1：选择签约节点","步骤2：选择授权策略"],"linkBtns":{"editRelease":"前去编辑","createNode":"前去创建"},"btns":{"cancel":"取消","sign":"签约","getAuth":"获取授权"},"signPolicyBox":{"titles":["已签约至","历史合约"],"signState":"作为被授权方，如果您满足且接受授权方的授权策略，则可以选择和授权方签约。授权双方之间存在一个按照未来发生的事件改变资源授权状态的机制，称之为合约。","signRuleState1":"合约的复用：授权方和被授权方的合约在同一个授权方（节点或发行）范围内可以复用。","signRuleState2":"合约的启用和停用：如果您和授权方的多个授权策略签订了多个合约，则在管理合约时，至少要有一个合约是启用状态。您可以选择启用或者停用其中某一个或某几个合约，在授权链中，系统仅会验证启用合约的授权状态。","tips":["存在历史签约，可复用此合约","以下策略可进行新的签约"],"contractID":"合同ID","signDate":"签约时间"},"signConfirm":{"title1":"选择的节点","title2":"策略确认"}},"en":{"release":"Release ","releaseID":"Release ID","policiesComparison":"Policies comparison","selectionPlaceholder":"Please select a contract node","noDesc":"No description","warings":["The current release is not online, no strategy is available!","The current upsell issue is not online and is not available!","You have not created a node;"],"messages":["Please select the contracted node first"," have not chosen a policy!","Successful signing!","Successful authorization signing; will soon jump to the node distribution management page!"],"titles":["Add node","Current release","Put on basis","Resource description","Confirmation"],"iconTexts":["Upsell","Signed"],"steps":["Step 1: Select a contract node","Step 2: Select Authorization Policy"],"linkBtns":{"editRelease":"Go to edit","createNode":"Go to create"},"btns":{"cancel":"cancel","sign":"Sign a contract","getAuth":"Get authorized"},"signPolicyBox":{"titles":["Signed to ","Historical contract"],"signState":"As an authorized party, if you meet and accept the authorized party\'s authorization policy, you can choose to sign up with the authorized party. There is a mechanism between authorized parties to change the status of resource authorization according to future events, which is called a contract.","signRuleState1":"Reuse of contracts: Contracts of authorized parties and authorized parties can be reused within the same authorized party (node or issue).","signRuleState2":"Activation and deactivation of contracts: If you have multiple contracts with multiple authorization policies of the licensor, at least one contract must be active when managing the contract. You can choose to enable or disable one or more of these contracts. In the authorization chain, the system will only verify the authorization status of the enabled contracts.","tips":["This issue has a historical contract and can be used directly.","The following policies are available for new signings"],"contractID":"Contract ID","signDate":"Sign Date"},"signConfirm":{"title1":"Selected nodes","title2":"Policy confirmation"}}}'),delete e.options._Ctor}},684:function(e,t,s){},685:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"release":"发行","releaseID":"发行ID","policiesComparison":"策略对比","selectionPlaceholder":"请选择签约节点","noDesc":"暂无描述","warings":["当前发行未上线，无可用策略！","当前发行的上抛发行未上线，不可用！","你还没有创建节点；"],"messages":["请先选择签约的节点","未选择授权策略！","签约成功！","授权签约成功；即将跳转至节点发行管理页！"],"titles":["添加节点","当前发行","基础上抛","资源描述","签约确认"],"iconTexts":["上抛","已签约"],"steps":["步骤1：选择签约节点","步骤2：选择授权策略"],"linkBtns":{"editRelease":"前去编辑","createNode":"前去创建"},"btns":{"cancel":"取消","sign":"签约","getAuth":"获取授权"},"signPolicyBox":{"titles":["已签约至","历史合约"],"signState":"作为被授权方，如果您满足且接受授权方的授权策略，则可以选择和授权方签约。授权双方之间存在一个按照未来发生的事件改变资源授权状态的机制，称之为合约。","signRuleState1":"合约的复用：授权方和被授权方的合约在同一个授权方（节点或发行）范围内可以复用。","signRuleState2":"合约的启用和停用：如果您和授权方的多个授权策略签订了多个合约，则在管理合约时，至少要有一个合约是启用状态。您可以选择启用或者停用其中某一个或某几个合约，在授权链中，系统仅会验证启用合约的授权状态。","tips":["存在历史签约，可复用此合约","以下策略可进行新的签约"],"contractID":"合同ID","signDate":"签约时间"},"signConfirm":{"title1":"选择的节点","title2":"策略确认"}},"en":{"release":"Release ","releaseID":"Release ID","policiesComparison":"Policies comparison","selectionPlaceholder":"Please select a contract node","noDesc":"No description","warings":["The current release is not online, no strategy is available!","The current upsell issue is not online and is not available!","You have not created a node;"],"messages":["Please select the contracted node first"," have not chosen a policy!","Successful signing!","Successful authorization signing; will soon jump to the node distribution management page!"],"titles":["Add node","Current release","Put on basis","Resource description","Confirmation"],"iconTexts":["Upsell","Signed"],"steps":["Step 1: Select a contract node","Step 2: Select Authorization Policy"],"linkBtns":{"editRelease":"Go to edit","createNode":"Go to create"},"btns":{"cancel":"cancel","sign":"Sign a contract","getAuth":"Get authorized"},"signPolicyBox":{"titles":["Signed to ","Historical contract"],"signState":"As an authorized party, if you meet and accept the authorized party\'s authorization policy, you can choose to sign up with the authorized party. There is a mechanism between authorized parties to change the status of resource authorization according to future events, which is called a contract.","signRuleState1":"Reuse of contracts: Contracts of authorized parties and authorized parties can be reused within the same authorized party (node or issue).","signRuleState2":"Activation and deactivation of contracts: If you have multiple contracts with multiple authorization policies of the licensor, at least one contract must be active when managing the contract. You can choose to enable or disable one or more of these contracts. In the authorization chain, the system will only verify the authorization status of the enabled contracts.","tips":["This issue has a historical contract and can be used directly.","The following policies are available for new signings"],"contractID":"Contract ID","signDate":"Sign Date"},"signConfirm":{"title1":"Selected nodes","title2":"Policy confirmation"}}}'),delete e.options._Ctor}},686:function(e,t,s){},687:function(e,t,s){},688:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"release":"发行","releaseID":"发行ID","policiesComparison":"策略对比","selectionPlaceholder":"请选择签约节点","noDesc":"暂无描述","warings":["当前发行未上线，无可用策略！","当前发行的上抛发行未上线，不可用！","你还没有创建节点；"],"messages":["请先选择签约的节点","未选择授权策略！","签约成功！","授权签约成功；即将跳转至节点发行管理页！"],"titles":["添加节点","当前发行","基础上抛","资源描述","签约确认"],"iconTexts":["上抛","已签约"],"steps":["步骤1：选择签约节点","步骤2：选择授权策略"],"linkBtns":{"editRelease":"前去编辑","createNode":"前去创建"},"btns":{"cancel":"取消","sign":"签约","getAuth":"获取授权"},"signPolicyBox":{"titles":["已签约至","历史合约"],"signState":"作为被授权方，如果您满足且接受授权方的授权策略，则可以选择和授权方签约。授权双方之间存在一个按照未来发生的事件改变资源授权状态的机制，称之为合约。","signRuleState1":"合约的复用：授权方和被授权方的合约在同一个授权方（节点或发行）范围内可以复用。","signRuleState2":"合约的启用和停用：如果您和授权方的多个授权策略签订了多个合约，则在管理合约时，至少要有一个合约是启用状态。您可以选择启用或者停用其中某一个或某几个合约，在授权链中，系统仅会验证启用合约的授权状态。","tips":["存在历史签约，可复用此合约","以下策略可进行新的签约"],"contractID":"合同ID","signDate":"签约时间"},"signConfirm":{"title1":"选择的节点","title2":"策略确认"}},"en":{"release":"Release ","releaseID":"Release ID","policiesComparison":"Policies comparison","selectionPlaceholder":"Please select a contract node","noDesc":"No description","warings":["The current release is not online, no strategy is available!","The current upsell issue is not online and is not available!","You have not created a node;"],"messages":["Please select the contracted node first"," have not chosen a policy!","Successful signing!","Successful authorization signing; will soon jump to the node distribution management page!"],"titles":["Add node","Current release","Put on basis","Resource description","Confirmation"],"iconTexts":["Upsell","Signed"],"steps":["Step 1: Select a contract node","Step 2: Select Authorization Policy"],"linkBtns":{"editRelease":"Go to edit","createNode":"Go to create"},"btns":{"cancel":"cancel","sign":"Sign a contract","getAuth":"Get authorized"},"signPolicyBox":{"titles":["Signed to ","Historical contract"],"signState":"As an authorized party, if you meet and accept the authorized party\'s authorization policy, you can choose to sign up with the authorized party. There is a mechanism between authorized parties to change the status of resource authorization according to future events, which is called a contract.","signRuleState1":"Reuse of contracts: Contracts of authorized parties and authorized parties can be reused within the same authorized party (node or issue).","signRuleState2":"Activation and deactivation of contracts: If you have multiple contracts with multiple authorization policies of the licensor, at least one contract must be active when managing the contract. You can choose to enable or disable one or more of these contracts. In the authorization chain, the system will only verify the authorization status of the enabled contracts.","tips":["This issue has a historical contract and can be used directly.","The following policies are available for new signings"],"contractID":"Contract ID","signDate":"Sign Date"},"signConfirm":{"title1":"Selected nodes","title2":"Policy confirmation"}}}'),delete e.options._Ctor}},914:function(e,t,s){"use strict";var a=s(680);s.n(a).a},915:function(e,t,s){"use strict";var a=s(681),n=s.n(a);t.default=n.a},916:function(e,t,s){"use strict";var a=s(682);s.n(a).a},917:function(e,t,s){"use strict";var a=s(683),n=s.n(a);t.default=n.a},918:function(e,t,s){"use strict";var a=s(684);s.n(a).a},919:function(e,t,s){"use strict";var a=s(685),n=s.n(a);t.default=n.a},920:function(e,t,s){"use strict";var a=s(686);s.n(a).a},921:function(e,t,s){"use strict";var a=s(687);s.n(a).a},922:function(e,t,s){"use strict";var a=s(688),n=s.n(a);t.default=n.a},953:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.release?s("div",{staticClass:"release-detail-wrapper"},[s("div",{staticClass:"r-d-w-header clearfix"},[s("div",{staticClass:"r-d-w-main-content"},[e.isOnline?e._e():s("el-alert",{staticClass:"r-d-w-waring",attrs:{type:"warning",closable:!1}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n          "+e._s(e.$t("warings[0]"))+"\n          "),e.isOwnRelease?s("router-link",{attrs:{to:"/release/edit/"+e.release.releaseId}},[e._v(e._s(e.$t("linkBtns.editRelease")))]):e._e()],1)]),e._v(" "),e.isUsable?e._e():s("el-alert",{staticClass:"r-d-w-waring",attrs:{type:"warning",closable:!1}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n          "+e._s(e.$t("warings[1]"))+"\n        ")])]),e._v(" "),s("div",{staticClass:"preview-box"},[s("img",{class:{"resource-default-preview":!e.release.previewImages[0]},attrs:{src:e.release.previewImages[0],alt:""}})]),e._v(" "),s("div",{staticClass:"cont"},[s("div",{staticClass:"r-d-w-name"},[s("span",[e._v(e._s(e.release.releaseName))]),e._v(" "),e.release.resourceVersions.length?s("el-select",{staticClass:"r-d-w-version",attrs:{"default-first-option":""},model:{value:e.activeReleaseVersion,callback:function(t){e.activeReleaseVersion=t},expression:"activeReleaseVersion"}},e._l(e.release.resourceVersions,function(e){return s("el-option",{key:e.version,staticClass:"r-d-w-version-option",attrs:{label:e.version,value:e.version}})}),1):e._e(),e._v(" "),s("i",{class:[e.isCollectedRelease?"el-icon-star-on":"el-icon-star-off"],on:{click:e.collectReleaseHandler}})],1),e._v(" "),s("div",{staticClass:"r-d-w-info"},[s("span",{staticClass:"r-i-type"},[e._v(e._s(e._f("pageBuildFilter")(e.release.resourceType)))]),e._v(" "),s("span",{staticClass:"r-i-date"},[e._v(e._s(e._f("fmtDate")(e.release.updateDate)))]),e._v(" "),s("span",{staticClass:"r-i-id"},[e._v(e._s(e.$t("releaseID"))+" "+e._s(e.release.releaseId))])]),e._v(" "),s("div",{staticClass:"r-d-w-h-desc"},[e._v(e._s(e.release.intro))])])],1)]),e._v(" "),s("div",{staticClass:"r-d-w-auth-box"},[s("div",{staticClass:"r-d-w-main-content"},[s("div",{staticClass:"r-d-w-node-list"},[s("h3",[e._v(e._s(e.$t("steps[0]"))),e.nodes.length?s("a",{staticClass:"rdw-w-create-node",attrs:{title:e.$t("titles[0]"),href:"/node/create",target:"_blank"}},[s("i",{staticClass:"el-icon-plus"})]):e._e()]),e._v(" "),e.nodes.length?s("el-select",{staticClass:"r-d-node-select",attrs:{placeholder:e.$t("selectionPlaceholder")},model:{value:e.checkedNodeId,callback:function(t){e.checkedNodeId=t},expression:"checkedNodeId"}},e._l(e.nodeSelections,function(t){return s("el-option",{key:t.nodeId,attrs:{label:t.nodeName+(t.isSigned?"（"+e.$t("iconTexts[1]")+"）":""),value:t.nodeId}})}),1):s("div",{staticClass:"rdwr-no-nodes"},[s("el-alert",{attrs:{type:"warning","show-icon":"",closable:!1}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n              "+e._s(e.$t("warings[2]"))),s("a",{attrs:{href:"/node/create",target:"_blank"}},[e._v(e._s(e.$t("linkBtns.createNode")))])])])],1)],1),e._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isShowContentLoading,expression:"isShowContentLoading"}],staticClass:"r-d-w-policy-box ",class:{highlight:""!=e.checkedNodeId}},[s("h3",[e._v("\n          "+e._s(e.$t("steps[1]"))+"\n          ")]),e._v(" "),s("div",{staticClass:"rdw-p-scheme-box"},[s("div",{staticClass:"rdw-p-left-box"},[s("h4",[e._v(e._s(e.$t("titles[1]")))]),e._v(" "),s("release-depend-item",{staticClass:"rdw-hide-detial-btn",attrs:{release:e.release,"is-active":e.selectedRelease.releaseId===e.release.releaseId,resolveStatus:e.release.resolveStatus,contractsMap:e.contractsMap},on:{"exchange-item":e.exchangeSelectedRelease}}),e._v(" "),e.baseUpcastReleasesList.length?s("h4",[e._v(e._s(e.$t("titles[2]")))]):e._e(),e._v(" "),e._l(e.baseUpcastReleasesList,function(t,a){return s("release-depend-item",{key:"dep-item-"+a,attrs:{"hide-upcast-icon":"",resolveStatus:"upcast",release:t,"is-active":e.selectedRelease.releaseId===t.releaseId,contractsMap:e.contractsMap},on:{"exchange-item":e.exchangeSelectedRelease}})})],2),e._v(" "),s("div",{staticClass:"rdw-p-right-box"},[s("sign-policy-list",{attrs:{release:e.selectedRelease,policies:e.selectedRelease.policies,contracts:e.nodeContracts,checkedNode:e.checkedNode},on:{"sign-new-policy":e.signNewPolicy}})],1)]),e._v(" "),e.checkedNode.isSigned?e._e():s("div",{staticClass:"rdw-p-auth-btn-bar"},[s("el-button",{staticClass:"rdw-p-auth-btn",attrs:{type:"primary"},on:{click:e.showSignBox}},[e._v(e._s(e.$t("btns.getAuth")))])],1)])])]),e._v(" "),s("div",{staticClass:"r-d-w-main-content"},[s("div",{staticClass:"r-d-w-description"},[s("h2",[e._v(e._s(e.$t("titles[3]")))]),e._v(" "),s("div",{staticClass:"ql-snow"},[e.resourceDetail.resourceInfo.description?s("div",{staticClass:"ql-editor",domProps:{innerHTML:e._s(e.resourceDetail.resourceInfo.description)}}):s("div",{},[e._v("\n          "+e._s(e.$t("noDesc"))+"\n        ")])])])]),e._v(" "),s("el-dialog",{attrs:{title:e.$t("titles[4]"),width:"640px",visible:e.signDialogVisible,center:""},on:{"update:visible":function(t){e.signDialogVisible=t}}},[s("signed-confirm",{attrs:{checkedNodeId:e.checkedNodeId,checkedNodeName:e.checkedNode.nodeName,release:e.release,baseUpcastReleasesList:e.baseUpcastReleasesList},on:{"cancel-sign":function(t){e.signDialogVisible=!1},"auth-signed":e.authSign}})],1)],1):e._e()};a._withStripped=!0;var n=s(426),i=s.n(n),o=s(428),r=s.n(o),c=s(429),l=s(134),d=s(88),u=s(514),p=s(522),h=s(752),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"r-d-w-r-sign"},[s("h4",[e._v(e._s(e.$t("signConfirm.title1")))]),e._v(" "),s("div",{staticClass:"r-d-w-r-node"},[e._v("\n    "+e._s(e.checkedNodeName)+"\n  ")]),e._v(" "),s("h4",[e._v(e._s(e.$t("signConfirm.title2")))]),e._v(" "),s("div",{staticClass:"r-d-w-r-s-releases"},[e._l(e.release.selectedPolicies,function(t,a){return s("div",{key:"s-p-"+a,staticClass:"rdwr-s-r-item"},[s("span",{staticClass:"rdwr-s-r-item-name"},[e._v(e._s(e.release.releaseName))]),e._v(" "),s("span",{staticClass:"rdwr-s-r-item-policy"},[e._v("\n        "+e._s(t.policyName)+"\n      ")])])}),e._v(" "),e._l(e.baseUpcastReleasesList,function(t){return s("div",{key:t.releaseId},e._l(t.selectedPolicies,function(a,n){return s("div",{key:"s-p-"+n,staticClass:"rdwr-s-r-item"},[s("span",{staticClass:"rdwr-s-r-item-name"},[e._v(e._s(t.releaseName))]),e._v(" "),s("span",{staticClass:"rdwr-s-r-item-policy"},[e._v("\n          "+e._s(a.policyName)+"\n        ")])])}),0)})],2),e._v(" "),s("div",{staticClass:"rdwr-s-btn-group"},[s("el-button",{staticClass:"rdwr-s-btn rdwr-s-btn-cancel",on:{click:e.cancel}},[e._v(e._s(e.$t("btns.cancel")))]),e._v(" "),s("el-button",{staticClass:"rdwr-s-btn rdwr-s-btn-sign",attrs:{type:"primary",disabled:!e.checkedNodeId},on:{click:e.authSign}},[e._v(e._s(e.$t("btns.sign")))])],1)])};f._withStripped=!0;var g={name:"release-detail-signed-confirm",props:{checkedNodeId:Number,checkedNodeName:String,release:Object,baseUpcastReleasesList:Array},methods:{cancel:function(){this.$emit("cancel-sign")},authSign:function(){this.$emit("auth-signed")}}},v=(s(914),s(3)),m=s(915),b=Object(v.a)(g,f,[],!1,null,"3cf9985b",null);"function"==typeof m.default&&Object(m.default)(b),b.options.__file="src/views/release/detail/signed-confirm.vue";var _=b.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.compareBox,function(t,a){return s("div",{key:"c-p-"+a,staticClass:"r-d-w-r-p-compare"},[e._l(e.policies,function(a,n){return s("div",{key:"p-btn-"+n,staticClass:"r-d-w-r-p-btn",class:{active:t.activeIndex===n},on:{click:function(s){return e.exchangeComparePolicy(t,n)}}},[e._v(e._s(a.policyName))])}),e._v(" "),s("div",{staticClass:"r-d-w-r-p-box"},[s("h4",[e._v(e._s(e.policies[t.activeIndex].policyName))]),e._v(" "),s("pre",{staticClass:"r-d-w-r-p-text",domProps:{innerHTML:e._s(e.policies[t.activeIndex].policyText)}})])],2)}),0)};y._withStripped=!0;var w={name:"release-detail-policies-compare",props:{selectedRelease:Object},data:function(){return{compareBox:[{activeIndex:0},{activeIndex:1}]}},computed:{policies:function(){return null!=this.selectedRelease?selectedRelease.policies:[]}},methods:{exchangeComparePolicy:function(e,t){e.activeIndex=t}}},I=(s(916),s(917)),C=Object(v.a)(w,y,[],!1,null,"40e2eb34",null);"function"==typeof I.default&&Object(I.default)(C),C.options.__file="src/views/release/detail/policies-compare.vue";var S=C.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.signedPolicies.length?s("div",{staticClass:"signed-list"},[s("h3",[e._v("\n      "+e._s(e.checkedNodeIsSigned?e.$t("signPolicyBox.titles[0]")+e.checkedNodeName:e.$t("signPolicyBox.titles[1]"))+"\n      "),s("el-tooltip",{attrs:{placement:"right",content:e.$t("signPolicyBox.tips[0]")}},[s("i",{staticClass:"el-icon-info"})])],1),e._v(" "),s("transition-group",{attrs:{name:"list",tag:"p"}},e._l(e.signedPolicies,function(t){return s("div",{key:t.pCombinationID,staticClass:"s-l-item"},[s("div",{staticClass:"p-name",class:{isSigned:e.checkedNodeIsSigned},on:{click:function(s){return e.selectPolicy(e.signedPolicies,t)}}},[e.checkedNodeIsSigned?e._e():[t.isSelected?s("i",{staticClass:"el-icon-check"}):s("span",{staticClass:"p-n-check-box"})],e._v("\n          "+e._s(t.policyName)+"\n          "),s("span",{staticClass:"contract-status",class:["status-"+t.contract.status]},[e._v(e._s(t.statusTip))])],2),e._v(" "),s("div",{staticClass:"p-auth-info"},[s("span",[e._v(e._s(e.$t("signPolicyBox.contractID"))+"："+e._s(t.contract.contractId))]),e._v(" "),s("span",[e._v(e._s(e.$t("signPolicyBox.signingDate"))+"："+e._s(e._f("fmtDate")(t.contract.updateDate)))])]),e._v(" "),s("div",{staticClass:"p-detail"},[s("contract-detail",{staticClass:"contract-policy-content",attrs:{contract:t.contract,policyText:t.contract.contractClause.policyText},on:{"update:contract":function(s){return e.$set(t,"contract",s)},"update-contract":function(s){return e.updateContractAfterEvent(t)}}})],1)])}),0)],1):e._e(),e._v(" "),e.nodSignPolicies.length?s("div",{staticClass:"no-sign-list"},[s("h3",[e._v("\n      "+e._s(e.signedPolicies.length>0?e.$t("signPolicyBox.tips[1]"):e.$t("btns.sign"))+"\n      "),s("el-tooltip",{attrs:{placement:"right",effect:"light"}},[s("div",{staticClass:"s-m-w-c-ubh-tip",attrs:{slot:"content"},slot:"content"},[e._v("\n          "+e._s(e.$t("signPolicyBox.signState"))+"\n          "),s("ul",[s("li",[e._v(e._s(e.$t("signPolicyBox.signRuleState1")))]),e._v(" "),s("li",[e._v(e._s(e.$t("signPolicyBox.signRuleState2")))])])]),e._v(" "),s("i",{staticClass:"el-icon-info"})])],1),e._v(" "),s("transition-group",{attrs:{name:"list",tag:"p"}},e._l(e.nodSignPolicies,function(t){return s("div",{key:t.pCombinationID,staticClass:"no-s-l-item"},[s("div",{staticClass:"p-name",class:{isSigned:e.checkedNodeIsSigned},on:{click:function(s){return e.selectPolicy(e.nodSignPolicies,t)}}},[e.checkedNodeIsSigned?[s("el-button",{staticClass:"p-sign-btn",attrs:{type:"primary",size:"mini"},on:{click:function(s){return e.signNewPolicy(t)}}},[e._v(e._s(e.$t("btns.sign")))])]:[t.isSelected?s("i",{staticClass:"el-icon-check"}):s("span",{staticClass:"p-n-check-box"})],e._v("\n          "+e._s(t.policyName)),0===t.status?s("span",[e._v("（"+e._s(e.$t("offline"))+"）")]):e._e()],2),e._v(" "),s("div",{staticClass:"p-detail"},[s("pre",{staticClass:"p-segment-text"},[e._v(e._s(e.fmtPolicyTextList(t)))])])])}),0)],1):e._e()])};x._withStripped=!0;var R=s(90),k=s(130),D=s(458),N=s(26),P={name:"sign-policy-list",components:{ContractDetail:k.a},props:{policies:{type:Array,default:function(){return[]}},contracts:{type:Array,default:function(){return[]}},release:{type:Object,default:function(){}},checkedNode:Object},data:function(){return{nodSignPolicies:[],signedPolicies:[]}},computed:{checkedNodeId:function(){return this.checkedNode.nodeId},checkedNodeName:function(){return this.checkedNode.nodeName},checkedNodeIsSigned:function(){return this.checkedNode.isSigned}},watch:{policies:function(){this.resolvePolicies()},contracts:function(){this.resolvePolicies()}},mounted:function(){this.resolvePolicies()},methods:{fmtPolicyTextList:function(e){return Object(R.a)(e.policyText)},resolvePolicies:function(){this.signedPolicies=this.getSignedPolicies(),this.nodSignPolicies=this.getNoSignedPolicies()},getNoSignedPolicies:function(){return this.policies.filter(function(e){return null==e.contract}).map(function(e){return e.statusTip="",e})},getSignedPolicies:function(){return this.policies.filter(function(e){return null!=e.contract}).map(function(e){return e.statusTip=D.CONTRACT_STATUS_TIPS[e.contract.status],e})},selectPolicy:function(e,t){""!==this.checkedNodeId?(t.isSelected=!t.isSelected,this.policies=this.policies.map(function(e){return e}),t.isSelected?Object(N.d)(this.release.selectedPolicies,t,"add"):Object(N.d)(this.release.selectedPolicies,t,"delete")):this.$message({message:"请先选择签约节点",type:"warning"})},signNewPolicy:function(e){Object(N.d)(this.release.selectedPolicies,e,"add"),this.$emit("sign-new-policy")},updateContractAfterEvent:function(){this.resolvePolicies()}}},$=(s(918),s(919)),z=Object(v.a)(P,x,[],!1,null,"612ca995",null);"function"==typeof $.default&&Object($.default)(z),z.options.__file="src/views/release/detail/sign-policy-list.vue";var T=z.exports,j={name:"release-detail",components:{RichEditor:u.a,SchemeManage:p.a,ReleaseDependItem:h.a,signPolicyList:T,SignedConfirm:_,PoliciesCompare:S},data:function(){return{releaseId:this.$route.params.releaseId,releaseName:this.$route.query.releaseName,activeReleaseVersion:this.$route.query.version,isOwnRelease:!1,isOnline:!0,isUsable:!0,isShowContentLoading:!1,isCollectedRelease:!1,release:null,selectedRelease:null,baseUpcastReleasesList:[],contractsMap:{},nodeContractsMap:{},nodeContracts:[],checkedNodeList:[],checkedNodeId:"",rSubordinateNodes:[],upcastDepReleasesMap:null,pCombinationIDMap:{},resourceDetail:{resourceInfo:{description:""}},compareDialogVisible:!1,signDialogVisible:!1}},computed:Object.assign({projection:function(){return["releaseId","resourceType","releaseName","latestVersion","baseUpcastReleases","policies","updateDate","status"].join(",")},releaseMap:function(){var e={};return e[this.release.releaseId]=this.release,this.baseUpcastReleasesList.forEach(function(t){e[t.releaseId]=t}),e},nodeMap:function(){var e={};if(null!=this.nodes){var t=!0,s=!1,a=void 0;try{for(var n,i=this.nodes[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value;e[o.nodeId]=o}}catch(e){s=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}}return e},checkedNode:function(){return this.nodeMap[this.checkedNodeId]||{nodeId:"",nodeName:"",isSigned:!1}},nodeSelections:function(){var e={},t=!0,s=!1,a=void 0;try{for(var n,i=this.rSubordinateNodes[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value;e[o.nodeId]=o}}catch(e){s=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}return this.nodes.map(function(t){return null!=e[t.nodeId]?(t.isSigned=!0,t.presentableId=e[t.nodeId].presentableId):t.isSigned=!1,t})},checkedNodeNameIsSigned:function(){var e=!0,t=!1,s=void 0;try{for(var a,n=this.rSubordinateNodes[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){if(a.value.nodeId===this.checkedNodeId)return!0}}catch(e){t=!0,s=e}finally{try{e||null==n.return||n.return()}finally{if(t)throw s}}return!1},targetResourceId:function(){for(var e=this.release.resourceVersions,t="",s=0;s<e.length;s++)if(e[s].version===this.activeReleaseVersion){t=e[s].resourceId;break}return t}},Object(d.b)({nodes:"nodes",session:"session"})),watch:{activeReleaseVersion:function(e,t){""!==t&&(this.$router.replace("/release/detail/".concat(this.release.releaseId,"?version=").concat(e)),this.fetchResourceDetail())},checkedNodeId:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s,a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShowContentLoading=!0,t.next=3,e.getContracts(e.checkedNodeId);case 3:null!=(s=t.sent)&&(a={},n=s.map(function(e){return a[e.targetId+"-"+e.policyId]=e}),e.resolveReleaseSelectedPolicies(a),e.nodeContracts=n,e.isShowContentLoading=!1);case 5:case"end":return t.stop()}},t)}))()}},created:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.releaseId){t.next=6;break}return t.next=4,e.fetchReleaseDetail(!0);case 4:t.next=9;break;case 6:if(!e.releaseName){t.next=9;break}return t.next=9,e.fetchReleaseDetail(!1);case 9:e.fetchReleaseSubordinateNodes(),e.getColleactedStatus(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,13]])}))()},methods:{getData:function(e){var t=this;return Object(c.coroutine)(r.a.mark(function s(){var a,n;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e;case 2:if(a=s.sent,0!==(n=a.data).errcode){s.next=8;break}return s.abrupt("return",n);case 8:return t.$error.showErrorMessage(n.msg),s.abrupt("return",null);case 10:case"end":return s.stop()}},s)}))()},getReleaseDetailById:function(){return this.$services.ReleaseService.get(this.releaseId)},getReleaseDetailByName:function(){return this.$services.ReleaseService.get("/detail?releaseName=".concat(encodeURIComponent(this.releaseName)))},fetchReleaseDetail:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(c.coroutine)(r.a.mark(function s(){var a;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=null,!t){s.next=7;break}return s.next=4,e.getData(e.getReleaseDetailById());case 4:a=s.sent,s.next=10;break;case 7:return s.next=9,e.getData(e.getReleaseDetailByName());case 9:a=s.sent;case 10:if(null==a){s.next=13;break}return s.next=13,e.resolveReleaseDetail(a.data);case 13:case"end":return s.stop()}},s)}))()},resolveReleaseDetail:function(e){var t=this;return Object(c.coroutine)(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t.releaseId=e.releaseId,t.release=t.selectedRelease=e,t.release.selectedPolicies=[],t.isOnline=1===t.release.status,null==t.activeReleaseVersion&&(t.activeReleaseVersion=e.latestVersion.version),t.formatReleaseData(),t.fetchResourceDetail(),t.fetchUpcastDepReleases(),t.session&&t.session.user&&(t.isOwnRelease=t.release.userId===t.session.user.userId);case 9:case"end":return s.stop()}},s)}))()},fetchResourceDetail:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.targetResourceId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.getData(e.$services.ResourceService.get(e.targetResourceId));case 4:null!=(s=t.sent)&&(e.resourceDetail.resourceInfo=s.data);case 6:case"end":return t.stop()}},t)}))()},fetchUpcastDepReleases:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s,a,n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=e.release.baseUpcastReleases).length){t.next=8;break}return a=s.map(function(e){return e.releaseId}).join(","),n=e.$services.ReleaseService.get("list?releaseIds=".concat(a,"&projection=").concat(e.projection)),t.next=6,e.getData(n);case 6:null!=(i=t.sent)&&function(){var t=i.data||[];e.upcastDepReleasesMap={};for(var s=function(s){e.isUsable=1===t[s].status&&e.isUsable;var a=t[s].releaseId;t[s].policies=t[s].policies.map(function(a){return a.pCombinationID="".concat(t[s].releaseId,"-").concat(a.policyId),e.pCombinationIDMap[a.pCombinationID]={releaseName:t[s].releaseName,policyName:a.policyName},a}),t[s].selectedPolicies=[],e.upcastDepReleasesMap[a]=t[s]},a=0;a<t.length;a++)s(a);e.baseUpcastReleasesList=t}();case 8:case"end":return t.stop()}},t)}))()},getContracts:function(e){var t=this;return Object(c.coroutine)(r.a.mark(function s(){var a;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!t.nodeContractsMap[e]){s.next=4;break}return s.abrupt("return",t.nodeContractsMap[e]);case 4:return s.next=6,t.fetchContracts(e);case 6:return a=s.sent,s.abrupt("return",a);case 8:case"end":return s.stop()}},s)}))()},fetchContracts:function(e){var t=this;return Object(c.coroutine)(r.a.mark(function s(){var a,n,i;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=[t.releaseId],t.baseUpcastReleasesList.forEach(function(e){return a.push(e.releaseId)}),n=t.$services.ContractService.get("list",{params:{contractType:2,targetIds:a.join(","),partyTwo:e}}),s.next=5,t.getData(n);case 5:if(null==(i=s.sent)){s.next=9;break}return t.nodeContractsMap[e]=i.data.map(function(e){return t.contractsMap[e.contractId]=e,e}),s.abrupt("return",i.data);case 9:case"end":return s.stop()}},s)}))()},resolveReleaseSelectedPolicies:function(e){var t=[this.release].concat(i()(this.baseUpcastReleasesList)),s=!0,a=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(s=(o=r.next()).done);s=!0){var c=o.value,l=!0,d=!1,u=void 0;try{for(var p,h=c.policies[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var f=p.value,g=e[f.pCombinationID];g?(f.contract=g,f.contractId=g.contractId,f.isSelected=!0,Object(N.d)(c.selectedPolicies,f,"add")):(f.contract=null,f.contractId="",f.isSelected=!1,Object(N.d)(c.selectedPolicies,f,"delete"))}}catch(e){d=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(d)throw u}}}}catch(e){a=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw n}}},fetchReleaseSubordinateNodes:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.$services.PresentablesService.get("list",{params:{releaseIds:e.releaseId,userId:e.session.user.userId,projection:"nodeId,presentableId"}}),t.next=3,e.getData(s);case 3:null!=(a=t.sent)&&(e.rSubordinateNodes=a.data);case 5:case"end":return t.stop()}},t)}))()},getColleactedStatus:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData(e.$services.collections.get("isCollection?releaseIds=".concat(e.releaseId)));case 2:null!=(s=t.sent)&&s.data&&s.data.length>0?e.isCollectedRelease=s.data[0].isCollection:e.isCollectedRelease=!1;case 4:case"end":return t.stop()}},t)}))()},formatReleaseData:function(){var e=this;this.release.policies=this.release.policies.filter(function(e){return 1===e.status}).map(function(t){return t.pCombinationID="".concat(e.release.releaseId,"-").concat(t.policyId),e.pCombinationIDMap[t.pCombinationID]={releaseName:e.release.releaseName,policyName:t.policyName},t}),this.release.resourceVersions=this.release.resourceVersions.sort(N.e).map(function(e){return e.createDate=Object(l.format)(e.createDate,"YYYY-MM-DD"),e})},collectReleaseHandler:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isCollectedRelease){t.next=7;break}return t.next=3,e.getData(e.$services.collections.post({releaseId:e.releaseId}));case 3:null!=t.sent&&(e.isCollectedRelease=!0),t.next=11;break;case 7:return t.next=9,e.getData(e.$services.collections.delete(e.releaseId));case 9:null!=t.sent&&(e.isCollectedRelease=!1);case 11:case"end":return t.stop()}},t)}))()},exchangeSelectedRelease:function(e){this.selectedRelease=e},exchangeComparePolicy:function(e,t){e.activeIndex=t},showSignBox:function(){if(this.isUsable){var e="";if(""===this.checkedNodeId)e=this.$i18n.t("messages[0]");else{var t=[];0===this.release.selectedPolicies.length&&t.push(this.release.releaseName),this.baseUpcastReleasesList.forEach(function(e){0===e.selectedPolicies.length&&t.push(e.releaseName)}),t.length>0&&(e="".concat(this.$i18n.t("release")).concat(t.join(","),"”").concat(this.$i18n.t("messages[1]")))}""===e?this.signDialogVisible=!0:this.$message({type:"warning",message:e})}},signNewPolicy:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s,a,n,i,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=e.$services.PresentablesService.put(e.checkedNode.presentableId,{resolveReleases:e.getRosolveReleases()}),t.next=4,e.getData(s);case 4:if(null==t.sent){t.next=12;break}return a=e.$i18n.t("messages[2]"),e.$message({type:"success",message:a}),t.next=10,e.fetchContracts(e.checkedNodeId);case 10:null!=(n=t.sent)&&(i={},o=n.map(function(e){return i[e.targetId+"-"+e.policyId]=e}),e.resolveReleaseSelectedPolicies(i),e.nodeContracts=o);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0);case 17:case"end":return t.stop()}},t,null,[[0,14]])}))()},authSign:function(){var e=this;return Object(c.coroutine)(r.a.mark(function t(){var s,a,n,i,o,c,l,d,u;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=e.checkedNodeId,a=new RegExp("".concat(e.release.username,"/"),"i"),n=e,i=e.$services.PresentablesService.post({nodeId:s,releaseId:e.releaseId,presentableName:e.release.releaseName.replace(a,""),version:e.activeReleaseVersion,resolveReleases:e.getRosolveReleases()}),t.next=7,e.getData(i);case 7:null!=(o=t.sent)&&(c=o.data,l=c.nodeId,d=c.presentableId,e.rSubordinateNodes.push({nodeId:l,presentableId:d}),e.signDialogVisible=!1,u=e.$i18n.t("messages[3]"),e.$message({type:"success",message:u,duration:500,onClose:function(){n.$router.push("/node/manager-release/".concat(d))}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}))()},getRosolveReleases:function(){var e={},t=[];return t=[].concat(i()(t),i()(s(this.release))),this.baseUpcastReleasesList.forEach(function(e){t=[].concat(i()(t),i()(s(e)))}),t;function s(t){var s=[];return t.selectedPolicies.forEach(function(a){var n=a.policyId,i=t.releaseId;if(e[i])e[i].contracts.push({policyId:n});else{var o={releaseId:i,contracts:[{policyId:n}]};e[i]=o,s.push(o)}}),s}}}},O=(s(920),s(921),s(922)),U=Object(v.a)(j,a,[],!1,null,"7f3bafb6",null);"function"==typeof O.default&&Object(O.default)(U),U.options.__file="src/views/release/detail/index.vue";t.default=U.exports}}]);