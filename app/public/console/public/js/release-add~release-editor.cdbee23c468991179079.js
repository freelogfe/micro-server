(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{426:function(t,e,i){var a=i(455),n=i(456),s=i(457);t.exports=function(t){return a(t)||n(t)||s()}},446:function(t,e,i){},455:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},456:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},457:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},471:function(t,e,i){},477:function(t,e,i){"use strict";i.d(e,"c",function(){return n}),i.d(e,"b",function(){return s});var a=i(2),n=[{type:"free",template:"for public:\n  initial:\n    active\n    terminate\n  ",name:a.a.t("components.policyEditor.defaultPolicyNames.free")},{type:"charge",template:"for public:\n  escrow account acct\n  custom event acceptor.customEvent\n\n  initial:\n    recontractable\n    proceed to auth on acct exceed 1 feather\n  auth:\n    presentable\n    recontractable\n    active\n    proceed to refund on acct.confiscated\n  refund:\n    recontractable\n    proceed to finish on acct.refunded\n  finish:\n    recontractable\n    terminate\n  ",name:a.a.t("components.policyEditor.defaultPolicyNames.charge")}],s=[{type:"free",template:"for public:\n  initial:\n    active\n    terminate\n  ",name:a.a.t("components.policyEditor.defaultPolicyNames.free")},{type:"charge",template:"\n    for public:\n      escrow account acct\n      custom event acceptor.customEvent\n\n      initial:\n        proceed to auth on acct exceed 1 feather\n      auth:\n        presentable\n        active\n        proceed to refund on acct.confiscated\n      refund:\n        proceed to finish on acct.refunded\n      finish:\n        terminate",name:a.a.t("components.policyEditor.defaultPolicyNames.charge")}];e.a={release:n,presentable:s}},478:function(t,e,i){},479:function(t,e,i){},480:function(t,e,i){},481:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"enableBtnText":"启用","disableBtnText":"停用","status":["已置顶","已停用","已启用"]},"en":{"enableBtnText":"enable","disableBtnText":"disable","status":["Already topped","Already disabled","Already enabled"]}}'),delete t.options._Ctor}},482:function(t,e,i){},483:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"enableBtnText":"启用","disableBtnText":"停用","status":["已置顶","已停用","已启用"]},"en":{"enableBtnText":"enable","disableBtnText":"disable","status":["Already topped","Already disabled","Already enabled"]}}'),delete t.options._Ctor}},485:function(t,e,i){},489:function(t,e,i){"use strict";i.d(e,"b",function(){return p}),i.d(e,"a",function(){return d});var a,n=i(5),s=i.n(n),l=1,o=2,c=(a={},s()(a,l,{value:l,desc:"资源策略模板"}),s()(a,o,{value:o,desc:"用户策略模板"}),a),r={0:{value:0,desc:"正常"},1:{value:1,desc:"已删除"}};function p(t){return c[t]?c[t].desc:"策略模板"}function d(t){return r[t]?r[t].desc:"未知"}},497:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticClass:"table-view-wrapper"},[i("el-table",{staticClass:"table",attrs:{data:t.tableData,stripe:"",border:""}},[t._t("default")],2),t._v(" "),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.showPagination,expression:"showPagination"}],staticClass:"pagination",attrs:{background:!0,"current-page":t.pageMeta.page,"page-sizes":[10,20,30,50],"page-size":t.pageMeta.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)};a._withStripped=!0;var n=i(4),s={name:"table-view",data:function(){return{loading:!1,tableData:[],total:0}},props:{data:{type:Array,default:function(){return[]}},showPagination:{type:Boolean,default:!0},formatHandler:{type:Function,default:null},paginationOptions:{type:Object,default:function(){return{pageSizes:[10,20,30,50]}}},loader:Function,pageMeta:{type:Object,default:function(){var t=n.d.get("PAGE_".concat(this.$route.fullPath,"_index"))||{};return Object.assign({pageSize:10,page:1},t)}}},beforeDestroy:function(){this.pageMeta&&this.pageMeta.keyWords&&delete this.pageMeta.keyWords,n.d.set("PAGE_".concat(this.pageUrl,"_index"),this.pageMeta)},mounted:function(){this.pageUrl=this.$route.fullPath,this.tableData=this.data,this.total=this.tableData.length,this.load(),this.$on("reload",this.reload.bind(this))},methods:{reload:function(t){this.load(t)},load:function(t){var e=this;Object.assign(this.pageMeta,t||{}),this.loader&&(this.loading=!0,this.loader(this.pageMeta).then(function(t){var i=t.getData();if(e.loading=!1,i){var a=i.dataList||i;e.formatHandler&&(a=e.formatHandler(a)),e.tableData=a,i.dataList?(e.total=i.totalItem,e.pageMeta.page=i.page||1):e.total=a.length}else e.$message.error(i.msg)}).catch(function(){console.warn("加载失败"),e.loading=!1}))},handleSizeChange:function(t){var e={pageSize:t};this.load(e),this.$emit("sizeChange",e)},handleCurrentChange:function(t){var e={page:t};this.load(e),this.$emit("pageChange",e)}}},l=(i(499),i(3)),o=Object(l.a)(s,a,[],!1,null,"83529354",null);o.options.__file="src/components/TableView/index.vue";e.a=o.exports},498:function(t,e,i){"use strict";var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{on:{click:this.copyHandler}},[e("textarea",{ref:"copyText",staticClass:"clip-text",domProps:{value:this.value}}),this._v(" "),this._t("default")],2)};a._withStripped=!0;var n={name:"clip-board",data:function(){return{}},props:{value:String},mounted:function(){},methods:{copyHandler:function(){this.$refs.copyText.select();try{var t=document.execCommand("copy");this.$emit("copyDone",t)}catch(t){this.$emit("copyDone",!1)}}}},s=(i(609),i(3)),l=Object(s.a)(n,a,[],!1,null,"46e3de8e",null);l.options.__file="src/components/clipboard/index.vue";e.a=l.exports},499:function(t,e,i){"use strict";var a=i(446);i.n(a).a},609:function(t,e,i){"use strict";var a=i(471);i.n(a).a},622:function(t,e,i){"use strict";var a=i(478);i.n(a).a},623:function(t,e,i){"use strict";var a=i(479);i.n(a).a},624:function(t,e,i){"use strict";var a=i(480);i.n(a).a},625:function(t,e,i){"use strict";var a=i(481),n=i.n(a);e.default=n.a},626:function(t,e,i){"use strict";var a=i(482);i.n(a).a},627:function(t,e,i){"use strict";var a=i(483),n=i.n(a);e.default=n.a},660:function(t,e,i){"use strict";var a=i(485);i.n(a).a},670:function(t,e,i){},671:function(t,e,i){},672:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"namePlaceholder":"请输入发行名称","version":"版本号","dialogTitle":"我的资源","policy":"授权策略","basicUpcast":"基础上抛","releaseId":"发行ID","releaseIntro":"发行简介","aboutRelease":"发行相关","aboutVersion":"版本相关","authManagement":"授权管理","contract":"授权链","addBtnText":"新增版本","saveBtnText":"保存","editBtnText":"编辑","cancelBtnText":"取消","addIntroBtnText":"添加简介","addPolicyBtnText":"添加策略","enabled":"已启用","disabled":"已停用","online":"已上线","notOnline":"未上线","tips":["无策略的发行不会出现在市场中","未添加策略","策略已停用","未命名策略"],"messages":["封面更新成功！","策略添加成功！","发行简介添加成功！","发行简介更新成功！","发行名称更新成功！"]},"en":{"namePlaceholder":"Please enter the release name","version":"Version","dialogTitle":"My resources","policy":"Authorization Policy ","basicUpcast":"Basic upcast","releaseId":"releaseID","releaseIntro":"Release Intro","aboutRelease":"About release","aboutVersion":"About Version","authManagement":"Authorization Management","contract":"contract","addBtnText":"Add new version","saveBtnText":"Save","editBtnText":"Edit","cancelBtnText":"Cancel","addIntroBtnText":"add the intro","addPolicyBtnText":"add the policy ","enabled":" enabled","disabled":" disabled","online":"Online","notOnline":"Not online","tips":["The release without a policy do not appear in the market","There are no policy","The policies are disabled","Policy unnamed"],"messages":["Release cover updated successfully!","Release policy added successfully!","Release intro added successfully!","Release intro updated successfully!","Release name updated successfully!"]}}'),delete t.options._Ctor}},714:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"policy-input-item",class:[{"disabled-policy":t.disabledPolicy,"published-policy":!!t.policy.segmentId},t.mode+"-mode"]},[i("div",{staticClass:"policy-name-input-item clearfix"},[i("div",{staticClass:"policy-name-input-placeholder"},[i("pre",{staticClass:"policy-name-pre"},[t._v(t._s(t.policy.policyName))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.policy.policyName,expression:"policy.policyName"}],staticClass:"policy-name-input",attrs:{type:"text",maxlength:"19",disabled:t.disabledPolicy},domProps:{value:t.policy.policyName},on:{blur:t.changePolicyNameHandler,input:function(e){e.target.composing||t.$set(t.policy,"policyName",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"policy-actions-btn"},[!1===t.disabledPolicy?i("el-button",{staticClass:"off-line-btn",attrs:{round:"",size:"mini"},on:{click:function(e){return t.switchPolicyStatusHandler(!0)}}},[t._v(t._s(t.$t("components.policyEditor.offline"))+"\n        ")]):t._e(),t._v(" "),!0===t.disabledPolicy?i("el-button",{staticClass:"on-line-btn",attrs:{round:"",size:"mini"},on:{click:function(e){return t.switchPolicyStatusHandler(!1)}}},[t._v(t._s(t.$t("components.policyEditor.online"))+"\n        ")]):t._e()],1),t._v(" "),i("div",{staticClass:"policy-toolbar"},[i("ul",{staticClass:"tool-list"},[i("li",[i("el-button",{staticClass:"op-btn",attrs:{type:"text",size:"mini"},on:{click:function(e){return t.showToolHandler("policy-template-selector")}}},[i("i",{staticClass:"el-icon-tickets"}),t._v(t._s(t.$t("components.policyEditor.template"))+"\n            ")])],1),t._v(" "),i("li",[i("el-button",{staticClass:"op-btn",attrs:{type:"text",size:"mini"},on:{click:function(e){return t.showToolHandler("query-policy-license")}}},[i("i",{staticClass:"el-icon-search"}),t._v("license\n            ")])],1)])])]),t._v(" "),i("div",{staticClass:"policy-content-input-wrap policy-editing clearfix"},[i("div",{staticClass:"policy-content-input-padding"},[t.policy.policyId?i("div",{staticClass:"policy-text",domProps:{innerHTML:t._s(t.policy.policyText)}}):[i("div",{staticClass:"policy-input-area"},[i("div",{staticClass:"input-placeholder"},[t._v(t._s(t.policy.policyText))]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.policy.policyText,expression:"policy.policyText"}],staticClass:"policy-content-input",attrs:{spellcheck:"false",placeholder:t.$t("components.policyEditor.policyPlaceholder")},domProps:{value:t.policy.policyText},on:{change:function(e){return t.changePolicyText(t.policy)},input:function(e){e.target.composing||t.$set(t.policy,"policyText",e.target.value)}}})])]],2),t._v(" "),t.showFooterBtns&&"preview"!==t.mode?i("div",{staticClass:"policy-content-input-ft"},[i("el-button",{attrs:{round:"",size:"mini"},on:{click:t.cancelPolicyHandler}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),!1===t.autoSave?i("el-button",{attrs:{round:"",size:"mini",type:"primary"},on:{click:t.savePolicyHandler}},[t._v(t._s(t.$t("common.save")))]):t._e()],1):t._e()])]),t._v(" "),i("el-dialog",{attrs:{title:t.$t("components.policyEditor.selectPolicyTitle"),visible:t.showCustomPolicyTplDialog,width:"50%"},on:{"update:visible":function(e){t.showCustomPolicyTplDialog=e}}},[i("keep-alive",[i(t.currentTool,{tag:"component",attrs:{callback:t.operationCallback}})],1)],1)],1)};a._withStripped=!0;var n=i(90),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{"margin-bottom":"15px"}},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.$t("components.policyEditor.inputPlaceholder")},model:{value:t.queryPolicyTpl,callback:function(e){t.queryPolicyTpl=e},expression:"queryPolicyTpl"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabClickHandler},model:{value:t.currentTabName,callback:function(e){t.currentTabName=e},expression:"currentTabName"}},[i("el-tab-pane",{attrs:{label:t.$t("components.policyEditor.demoTpl"),name:"official"}},[i("policy-tpl-list",{attrs:{list:t.defaultPolicyTpls,filter:t.filterHandler},on:{select:t.selectPolicyTplHandler}})],1),t._v(" "),i("el-tab-pane",{attrs:{label:t.$t("components.policyEditor.myTpl"),name:"mine"}},[i("policy-tpl-list",{attrs:{list:t.policyTpls,filter:t.filterHandler},on:{select:t.selectPolicyTplHandler}})],1)],1)],1)};s._withStripped=!0;var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-table",{attrs:{data:t.tplList,stripe:"",border:""}},[i("el-table-column",{attrs:{prop:"name",label:t.$t("components.policyTplSelector.name")}}),t._v(" "),i("el-table-column",{attrs:{label:"",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(i){return t.handleSelect(e.row)}}},[t._v(t._s(t.$t("components.policyTplSelector.operation"))+"\n        ")])]}}])})],1)],1)};l._withStripped=!0;var o=i(86),c=i.n(o),r=i(497),p=i(489),d={name:"policy-tpl-select-list",data:function(){return{}},props:{list:{type:Array,default:function(){return[]}},filter:{type:Function}},components:{TableView:r.a},computed:{tplList:function(){return this.filter?this.filter(this.list):this.list}},mounted:function(){},methods:{resolveType:function(t){return p.b(t)},resolveStatus:function(t){return p.a(t)},handleSelect:function(t){this.$emit("select",c()({},t))}}},u=i(3),h=Object(u.a)(d,l,[],!1,null,null,null);h.options.__file="src/components/policyTplSelector/index.vue";var v=h.exports,m=i(4),y=i(477),f={name:"policy-template-selector",data:function(){return{currentTabName:m.e.get("POLICY_TPL_ACTIVE_TAB_NAME")||"official",policyTpls:[],queryPolicyTpl:"",defaultPolicyTpls:"node"===this.$route.meta.type?y.b:y.c}},props:{callback:{type:Function}},components:{PolicyTplList:v},mounted:function(){var t=this;this.loadCustomPolicyTpl().then(function(e){t.policyTpls=e})},methods:{loadCustomPolicyTpl:function(){return this.$services.policyTemplate.get({params:{templateType:1,pageSize:100}}).then(function(t){var e=t.getData();if(e)return e.dataList;throw new Error(t.data.msg)})},selectPolicyTplHandler:function(t){"function"==typeof this.callback&&this.callback({name:"selectPolicyTemplate",data:t})},filterHandler:function(t){var e=this;return t.filter(function(t){return!e.queryPolicyTpl||t.name.indexOf(e.queryPolicyTpl)>-1})},tabClickHandler:function(t){m.e.set("POLICY_TPL_ACTIVE_TAB_NAME",t.name)}}},_=Object(u.a)(f,s,[],!1,null,null,null);_.options.__file="src/components/PolicyEditor/tool/policyTpl.vue";var g=_.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-autocomplete",{staticClass:"search-input",attrs:{"fetch-suggestions":t.querySearchAsync,placeholder:t.$t("components.policyEditor.licensePlaceholder")},on:{select:t.handleSelect},model:{value:t.queryInput,callback:function(e){t.queryInput=e},expression:"queryInput"}},[i("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"}),t._v(" "),i("clip-board",{staticStyle:{display:"inline-block","margin-left":"-8px"},attrs:{slot:"append",value:t.selectedLicenseId},on:{copyDone:t.copyDoneHandler},slot:"append"},[i("el-button",{attrs:{type:"primary",plain:"",disabled:!t.selectedLicenseId}},[i("i",{staticClass:"el-icon-fa-clipboard"})])],1)],1),t._v(" "),i("pre",{staticClass:"license-content"},[t._v("    "+t._s(t.licenseContent)+"\n  ")])],1)};x._withStripped=!0;var b={name:"query-policy-license",data:function(){return{licenses:[],queryInput:"",licenseContent:"",selectedLicenseId:"",licenseMap:{}}},components:{ClipBoard:i(498).a},props:{callback:{type:Function}},mounted:function(){this.licenses=this.loadAll()},methods:{copyDoneHandler:function(){this.selectedLicenseId&&(this.$message.success(this.$t("components.policyEditor.copyDone")),"function"==typeof this.callback&&this.callback({name:"selectLicenseId",data:{licenseId:this.selectedLicenseId}}))},loadAll:function(){var t=this;this.$axios.get("/v1/resources/warehouse?resourceType=license").then(function(e){t.licenses=e.data.data.dataList.map(function(t){return{value:t.resourceName,id:t.resourceId}})})},querySearchAsync:function(t,e){var i=this.licenses;e(t?i.filter(this.createStateFilter(t)):i)},createStateFilter:function(t){var e=t.toLowerCase(),i=new RegExp(e,"i");return function(t){return i.test(t.value)||i.test(t.id)}},handleSelect:function(t){this.selectedLicenseId=t.id,this.showLicenseContent(t)},showLicenseContent:function(t){var e=this,i=t.id;this.licenseMap[i]?this.licenseContent=this.licenseMap[i]:this.$axios.get("/v1/auths/resource/".concat(i,".data")).then(function(t){t.getData()?(e.licenseContent=t.getData(),e.licenseMap[i]=e.licenseContent):e.$message.error(t.data.msg)})}}},w=(i(622),Object(u.a)(b,x,[],!1,null,"849fd260",null));w.options.__file="src/components/PolicyEditor/tool/queryLicense.vue";var C=w.exports,T={name:"policy-editor",data:function(){return{showCustomPolicyTplDialog:!1,currentTool:"",mode:"edit"}},props:{policy:{type:Object,default:function(){return{}}},showValidate:{type:Boolean,default:function(){return!0}},autoSave:{type:Boolean,default:!1},showFooterBtns:{type:Boolean,default:!0}},computed:{disabledPolicy:function(){return 0===this.policy.status}},components:{PolicyTemplateSelector:g,QueryPolicyLicense:C},watch:{policy:function(){this.resolvePolicy(this.policy)}},mounted:function(){this.resolvePolicy(this.policy)},methods:{resolvePolicy:function(t){if(t.policyId){this.mode="preview";var e=t.policyText;Object(n.b)(e).errorMsg||(e=Object(n.c)(e)),Object.assign(this.policy,{policyName:t.policyName||"",policyText:e,policySegmentId:t.policyId,disabled:0===t.status})}},validate:function(){var t=Object(n.b)(this.policyText);t.errorMsg?(this.$emit("validate",{done:!1,error:{message:t.errorMsg}}),this.$message.error(t.errorMsg)):(this.policyText=Object(n.c)(this.policyText),this.$emit("input",this.policyText),this.$emit("validate",{done:!0}))},showToolHandler:function(t){this.currentTool=t,this.showCustomPolicyTplDialog=!0},operationCallback:function(t){if(this.showCustomPolicyTplDialog=!1,t&&t.name){var e="".concat(t.name,"Callback");"function"==typeof this[e]&&this[e](t.data),this.$emit("input",this.policyText)}},selectPolicyTemplateCallback:function(t){this.policy.policyText=t.template,this.policy.policyName=t.name},selectLicenseIdCallback:function(t){this.policy.policyText+=" ".concat(t.licenseId)},changePolicyText:function(t){this.autoSave&&this.savePolicyHandler()},switchPolicyStatusHandler:function(){var t=this,e=this.policy;e.policySegmentId&&this.$confirm(this.$t("components.policyEditor.switchTip",{statusText:e.disabled?"上":"下",policyName:e.policyName})).then(function(){e.disabled=!t.disabledPolicy,t.$emit("save",t.policy)}).catch(function(){})},changePolicyNameHandler:function(){this.policy.policySegmentId&&this.$emit("save",this.policy)},cancelPolicyHandler:function(){this.$emit("cancel",this.policy)},savePolicyHandler:function(){this.$emit("save",this.policy)}}},P=(i(623),Object(u.a)(T,a,[],!1,null,"84870d9c",null));P.options.__file="src/components/PolicyEditor/index.vue";e.a=P.exports},716:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"policy-list"},[i("div",{staticClass:"policy-list-wrapper"},[i("div",{staticClass:"p-l-main-content clearfix",class:{"no-overflow":t.formatedPolicyList.length<4}},[i("div",{staticStyle:{position:"relative",display:"inline-block",transition:"all .3s","white-space":"nowrap"},style:{transform:"translateX(-"+t.policyTranslateX+"px)"}},[t._l(t.formatedPolicyList,function(e,a){return i("div",{key:e.policyId,staticClass:"p-l-item"},[i("div",{staticClass:"p-l-item-head"}),t._v(" "),i("div",{staticClass:"p-l-card",class:{disabled:0==e.status}},[i("h5",[i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"p-l-status p-l-s-top"},[i("i",{staticClass:"el-icon-download"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"policy.status == 0"}],staticClass:"p-l-status p-l-s-disabled"},[i("i",{staticClass:"el-icon-error"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"policy.status == 1"}],staticClass:"p-l-status p-l-s-active"},[i("i",{staticClass:"el-icon-success"})]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.policyName)+"\n\t\t\t\t\t\t\t")]),t._v(" "),e.policyId?i("pre",{staticClass:"policy-text",domProps:{innerHTML:t._s(e.policyText)}}):t._e()]),t._v(" "),i("el-dropdown",{attrs:{size:"small"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-more"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==e.status?i("el-dropdown-item",{attrs:{command:a+"-1"}},[t._v(t._s(t.$t("enableBtnText")))]):t._e(),t._v(" "),1==e.status?i("el-dropdown-item",{attrs:{command:a+"-0"}},[t._v(t._s(t.$t("disableBtnText")))]):t._e()],1)],1),t._v(" "),i("i",{staticClass:"p-l-expand-btn el-icon-full-screen",on:{click:function(e){return t.expandPolicyHandler(a,e)}}})],1)}),t._v(" "),t.formatedPolicyList.length<=t.visibleCardCount?i("div",{staticClass:"policy-item-add-tbn pia-btn1",on:{click:t.addPolicy}},[i("i",{staticClass:"el-icon-circle-plus"})]):t._e()],2)]),t._v(" "),t.navItems.length>1?i("ul",{staticClass:"p-l-list-nav-bar"},[i("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.navActiveIndex,expression:"navActiveIndex !== 0"}],staticClass:"pll-nav-btn",on:{click:t.tapPrevBtn}},[t._v("上一页")]),t._v(" "),t._l(t.navItems,function(e,a){return i("li",{key:a,class:{active:t.navActiveIndex===a},on:{click:function(e){return t.exchangeNacActiveIndex(a)}}})}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.navActiveIndex!==t.navItems.length-1,expression:"navActiveIndex !== (navItems.length - 1)"}],staticClass:"pll-nav-btn",on:{click:t.tapNextBtn}},[t._v("下一页")]),t._v(" "),i("span",[t._v("（共"+t._s(t.formatedPolicyList.length)+"条策略）")])],2):t._e(),t._v(" "),t.formatedPolicyList.length>t.visibleCardCount?i("div",{staticClass:"policy-item-add-tbn pia-btn2",on:{click:t.addPolicy}},[i("i",{staticClass:"el-icon-circle-plus"})]):t._e()]),t._v(" "),t.isExpandPolicy?i("div",{staticStyle:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0","background-color":"rgba(0,0,0,.5)","z-index":"99"}}):t._e(),t._v(" "),t.isExpandPolicy?i("div",{staticStyle:{position:"fixed","font-size":"14px",color:"#333","background-color":"#fff",transition:"top 1s, width 1s , height 1s, left 1s","z-index":"100"},style:t.enlargedDisplayBox},[i("div",{staticStyle:{"font-weight":"600","line-height":"35px",padding:"0 20px",display:"flex","justify-content":"space-between","align-items":"center"}},[i("span",[t._v(t._s(t.formatedPolicyList[t.expandedPolicyIndex].policyName))]),t._v(" "),i("i",{staticClass:"el-icon-circle-close",staticStyle:{"font-size":"16px"},on:{click:function(e){t.isExpandPolicy=!1}}})]),t._v(" "),i("pre",{staticStyle:{padding:"0 20px","white-space":"pre-wrap"}},[t._v(t._s(t.formatedPolicyList[t.expandedPolicyIndex].policyText))])]):t._e()])};a._withStripped=!0;var n=i(87),s=i.n(n),l=i(90),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"p-l-item"},[i("div",{staticClass:"p-l-item-head"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"p-l-status p-l-s-top"},[i("i",{staticClass:"el-icon-download"}),t._v("\n      "+t._s(t.$t("status[0]"))+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.policy.status,expression:"policy.status == 0"}],staticClass:"p-l-status p-l-s-disabled"},[i("i",{staticClass:"el-icon-error"}),t._v("\n      "+t._s(t.$t("status[1]"))+"\n    ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.policy.status,expression:"policy.status == 1"}],staticClass:"p-l-status p-l-s-active"},[i("i",{staticClass:"el-icon-success"}),t._v("\n      "+t._s(t.$t("status[2]"))+"\n    ")])]),t._v(" "),i("div",{staticClass:"p-l-card",staticStyle:{transition:"width 2s, height 2s"},style:{width:(t.show?800:230)+"px",height:(t.show?185:300)+t.px}},[i("h5",[t._v(t._s(t.policy.policyName))]),t._v(" "),t.policy.policyId?i("pre",{staticClass:"policy-text",domProps:{innerHTML:t._s(t.policy.policyText)}}):t._e()]),t._v(" "),i("el-dropdown",{attrs:{size:"small"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-more"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[0==t.policy.status?i("el-dropdown-item",{attrs:{command:1}},[t._v(t._s(t.$t("enableBtnText")))]):t._e(),t._v(" "),1==t.policy.status?i("el-dropdown-item",{attrs:{command:0}},[t._v(t._s(t.$t("disableBtnText")))]):t._e()],1)],1),t._v(" "),i("i",{staticClass:"p-l-expand-btn el-icon-rank",on:{click:t.expandPolicyHandler}})],1)};o._withStripped=!0;var c={name:"Item",props:{show:{type:Boolean,default:!1},policy:{type:Object,status:0,policyName:"",policyId:"",policyText:""},handleCommand:{type:Function,default:function(){}},expandPolicyHandler:{type:Function,default:function(){}}}},r=(i(624),i(3)),p=i(625),d=Object(r.a)(c,o,[],!1,null,"c9c3f2b8",null);"function"==typeof p.default&&Object(p.default)(d),d.options.__file="src/components/PolicyList/list/PolicyCard.vue";var u={name:"policy-list",components:{PolicyCard:d.exports},props:{policyList:{type:Array,default:function(){return[]}}},data:function(){return{visibleCardCount:3,cardActiveIndex:0,navActiveIndex:0,expandedPolicyIndex:0,isExpandPolicy:!1,enlargedDisplayBox:{top:0,left:0,width:0,height:0}}},computed:{navItems:function(){var t=Math.ceil(this.formatedPolicyList.length/this.visibleCardCount);return console.log(new Array(t).fill(1)),new Array(t).fill(1)},formatedPolicyList:function(){return this.policyList.filter(function(t){return t.policyId}).map(function(t){return t.policyText=Object(l.a)(t.policyText),t})},policyTranslateX:function(){return 301*this.cardActiveIndex},expandedPolicy:function(){return this.formatedPolicyList[this.expandedPolicyIndex]}},methods:{exchangeNacActiveIndex:function(t){this.navActiveIndex=t,this.cardActiveIndex=t*this.visibleCardCount},tapPrevBtn:function(){this.navActiveIndex=this.navActiveIndex-1,this.navActiveIndex=this.navActiveIndex<0?0:this.navActiveIndex,this.cardActiveIndex=this.navActiveIndex*this.visibleCardCount},tapNextBtn:function(){this.navActiveIndex=this.navActiveIndex+1,this.navActiveIndex=this.navActiveIndex===this.navItems.length?this.navItems.length-1:this.navActiveIndex,this.cardActiveIndex=this.navActiveIndex*this.visibleCardCount},addPolicy:function(){this.$emit("add-policy")},expandPolicyHandler:function(t,e){var i=this;this.isExpandPolicy=!0,this.expandedPolicyIndex=t;var a=e.target.parentNode.getBoundingClientRect(),n=a.top,s=a.width,l=a.height,o=a.left;this.enlargedDisplayBox={top:n+"px",width:s+"px",height:l+"px",left:o+"px"},setTimeout(function(){i.enlargedDisplayBox={top:window.innerHeight/2-300+"px",left:window.innerWidth/2-200+"px",width:"400px",height:"600px"}},30)},handleCommand:function(t){console.log(t,"commandcommandcommand");var e=t.split("-"),i=s()(e,2),a=i[0],n=i[1];0!==(n=+n)&&1!==n||this.updatePolicyStatus(this.policyList[a],n)},updatePolicyStatus:function(t,e){this.$emit("update-policies",{policyName:t.policyName,status:e,policyId:t.policyId})}},created:function(){},watch:{isExpandPolicy:function(t){window.document.body.style.overflowY=t?"hidden":"auto"}}},h=(i(626),i(627)),v=Object(r.a)(u,a,[],!1,null,null,null);"function"==typeof h.default&&Object(h.default)(v),v.options.__file="src/components/PolicyList/list/index.vue";e.a=v.exports},718:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-cover"},[i("el-upload",{ref:"uploader",staticClass:"avatar-uploader",attrs:{accept:"image/*","with-credentials":!0,action:t.uploadPreviewImageAction,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,multiple:t.multiple,"auto-upload":t.multiple,"on-change":t.changeImageHandler,drag:!0}},[i("a",{ref:"uploadHandleRef",on:{click:t.initData}},[t.imageUrl?i("div",{staticClass:"re-upload-mask",style:{height:t.height+"px",width:t.width+"px"}},[i("i",{staticClass:"el-icon-circle-plus",staticStyle:{color:"#fff","font-size":"40px"}}),t._v(" "),t.textVisible&&t.reUploadText?i("span",{staticStyle:{color:"#fff","font-weight":"600","font-size":"14px","padding-top":"10px"}},[t._v(t._s(t.reUploadText))]):t._e()]):t._e(),t._v(" "),t.imageUrl?i("img",{staticClass:"avatar",style:{height:t.height+"px",width:t.width+"px"},attrs:{src:t.imageUrl}}):i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"},style:{height:t.height+"px",width:t.width+"px"}},[i("i",{staticClass:"el-icon-circle-plus",staticStyle:{color:"#666","font-size":"40px"}}),t._v(" "),t.textVisible&&t.uploadText?i("span",{staticStyle:{color:"#666","font-weight":"600","font-size":"14px","padding-top":"10px"}},[t._v(t._s(t.uploadText))]):t._e()])])]),t._v(" "),i("el-dialog",{attrs:{"custom-class":"upload-error-dialog",visible:!!t.tmpImageUrl,width:"600","close-on-click-modal":!1,"show-close":!1}},[i("div",{staticStyle:{width:"450px",height:"450px",margin:"0 auto"}},[i("img",{ref:"tmpImage",staticStyle:{"max-width":"400px","max-height":"400px"},attrs:{src:t.tmpImageUrl}})]),t._v(" "),i("div",{staticStyle:{height:"40px"}}),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("el-button",{staticStyle:{color:"#999"},attrs:{type:"text"},on:{click:function(e){t.tmpImageUrl=""}}},[t._v("取消\n            ")]),t._v("\n               \n            "),i("el-button",{attrs:{type:"primary",plain:"",round:""},on:{click:t.saveCropImageHandler}},[t._v("裁剪\n            ")])],1)]),t._v(" "),i("el-dialog",{attrs:{"custom-class":"upload-error-dialog",visible:t.showDialog,width:"30%","close-on-click-modal":!1,"show-close":!1}},[i("div",{staticStyle:{height:"20px"}}),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("i",{staticClass:"el-icon-warning",staticStyle:{color:"#FFC000","font-size":"20px"}}),t._v(" "),i("span",{staticStyle:{"font-size":"14px",color:"#333","font-weight":"600","padding-left":"10px"}},[t._v("封面图片不能超过5M")])]),t._v(" "),i("div",{staticStyle:{height:"40px"}}),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("el-button",{staticStyle:{color:"#999"},attrs:{type:"text"},on:{click:t.hideUploadDialog}},[t._v("取消\n            ")]),t._v("\n               \n            "),i("el-button",{attrs:{type:"primary",plain:"",round:""},on:{click:t.emitUpload}},[t._v("重新选择\n            ")])],1)])],1)};a._withStripped=!0;var n,s=i(544),l=i.n(s);i(545);var o={name:"upload-cover",props:{imageUrl:String,onUploaded:Function,width:{type:Number,default:200},height:{type:Number,default:150},textVisible:{type:Boolean,default:!0},uploadText:{type:String,default:"上传封面"},reUploadText:{type:String,default:"重新上传"},multiple:{type:Boolean,default:!1}},data:function(){return{showDialog:!1,count:0,list:[],tmpImageUrl:""}},methods:{initData:function(){this.count=0,this.list=[]},handleAvatarSuccess:function(t,e){var i=this;if(0===t.errcode){if(!this.multiple)return setTimeout(function(){return i.tmpImageUrl=""}),this.onUploaded&&this.onUploaded(t.data);this.list.push(t.data),this.count===this.list.length&&this.onUploaded(this.list)}},beforeAvatarUpload:function(t){var e=this;if(!(t.size/1024/1024<=5))return this.multiple?(setTimeout(function(){return e.$message.error("『 ".concat(t.name," 』超过了5M，该图片已丢弃"))}),!1):(this.showDialog=!0,!1);this.count++},hideUploadDialog:function(){this.showDialog=!1},emitUpload:function(){this.hideUploadDialog(),this.$refs.uploadHandleRef.click()},changeImageHandler:function(t){var e=this;this.multiple||(this.tmpImageUrl=t.url||URL.createObjectURL(t.raw),setTimeout(function(){return e.initCropper()}))},initCropper:function(){this.$refs.tmpImage&&(n=new l.a(this.$refs.tmpImage,{aspectRatio:this.width/this.height,viewMode:1,center:!0,highlight:!0,cropBoxMovable:!0,cropBoxResizable:!0,ready:function(){}}))},saveCropImageHandler:function(){var t=this;n.getCroppedCanvas({width:this.width,height:this.height}).toBlob(function(e){var i=new File([e],"tmp.png"),a=t.$refs.uploader;a.clearFiles(),a.handleStart(i),a.submit()})}},computed:{apiHostName:function(){var t=window.location.hostname.split(".");return t.shift(),t.unshift("qi"),t.join(".")},uploadPreviewImageAction:function(){return"//".concat(this.apiHostName,"/v1/resources/temporaryFiles/uploadPreviewImage")}}},c=(i(660),i(3)),r=Object(c.a)(o,a,[],!1,null,null,null);r.options.__file="src/components/UploadCover/index.vue";e.a=r.exports},747:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.release?i("div",{staticClass:"release-editor-layout"},[i("div",{staticClass:"r-e-l-header clearfix"},[i("div",{staticClass:"r-e-l-main-content"},[i("div",{staticClass:"preview-box"},[i("UploadCover",{attrs:{width:"100",height:"75",multiple:"",imageUrl:t.coverImageUrl,textVisible:!1,onUploaded:t.uploadCoverSuccess}})],1),t._v(" "),i("div",{staticClass:"cont"},[i("div",{staticClass:"r-e-l-name"},[t.isEditingReleaseName?[i("el-input",{attrs:{autofocus:"","show-word-limit":"",type:"text",maxlength:"100",placeholder:t.$t("namePlaceholder")},model:{value:t.tmpReleaseName,callback:function(e){t.tmpReleaseName=e},expression:"tmpReleaseName"}}),t._v(" "),i("el-button",{staticClass:"r-e-l-name-save",attrs:{size:"small",round:"",type:"primary"},on:{click:t.saveEditName}},[t._v(t._s(t.$t("saveBtnText")))]),t._v(" "),i("el-button",{staticClass:"r-e-l-name-cancel",attrs:{size:"small",round:""},on:{click:t.cancelEditName}},[t._v(t._s(t.$t("cancelBtnText")))])]:[i("router-link",{attrs:{to:"/release/detail/"+t.release.releaseId+"?version="+t.selectedVersion}},[t._v("\n              "+t._s(t.release.releaseName)+"\n            ")])],t._v(" "),i("span",{staticClass:"r-e-l-version"},[t._v(t._s(t.selectedVersion||t.release.latestVersion.version))]),t._v(" "),i("div",{staticClass:"r-e-l-state"},[1===t.releaseState?[t._v("\n              "+t._s(t.$t("online"))+"\n            ")]:[i("el-tooltip",{attrs:{content:t.releaseStateText,placement:"bottom",effect:"light"}},[i("i",{staticClass:"el-icon-warning"})]),t._v("\n              "+t._s(t.$t("notOnline"))+"\n            ")]],2)],2),t._v(" "),i("div",{staticClass:"r-e-l-info"},[i("span",{staticClass:"r-i-type"},[t._v(t._s(t._f("pageBuildFilter")(t.release.resourceType)))]),t._v(" "),i("span",{staticClass:"r-i-date"},[t._v(t._s(t._f("fmtDate")(t.release.updateDate)))]),t._v(" "),i("span",{staticClass:"r-i-version"},[t._v(t._s(t.$t("releaseId"))+" "+t._s(t.release.releaseId))])]),t._v(" "),t.release.baseUpcastReleases.length>0?i("div",{staticClass:"r-e-l-upcast"},[i("strong",[t._v(t._s(t.$t("basicUpcast")))]),t._v(" "),t._l(t.release.baseUpcastReleases,function(e,a){return i("span",{key:"upcast-release-"+a,staticClass:"upcast-release-item"},[i("i",{staticClass:"el-icon-back"}),t._v(t._s(e.releaseName))])})],2):t._e()])])]),t._v(" "),i("div",{staticClass:"r-e-l-main-content"},[i("div",{staticClass:"r-e-l-row r-e-l-release",class:{"tuck-up":t.isTuckUpRelease}},[i("h3",[t._v(t._s(t.$t("aboutRelease"))+" "),i("i",{staticClass:"el-icon-arrow-up",on:{click:function(e){t.isTuckUpRelease=!t.isTuckUpRelease}}})]),t._v(" "),i("div",{staticClass:"cont"},[i("div",{staticClass:"r-e-w-release-intro"},[i("h4",[t._v("\n            "+t._s(t.$t("releaseIntro"))+"\n            "),i("div",{staticClass:"r-e-w-btn-group"},[t.isEditingIntro||""===t.release.intro?t._e():i("el-button",{staticClass:"edit",attrs:{type:"primary",size:"mini",round:""},on:{click:t.editIntroHandler}},[t._v(t._s(t.$t("editBtnText")))]),t._v(" "),t.isEditingIntro?[i("el-button",{staticClass:"save",attrs:{type:"primary",size:"small",round:""},on:{click:t.saveIntroHandler}},[t._v(t._s(t.$t("saveBtnText")))]),t._v(" "),i("el-button",{staticClass:"cnacel",attrs:{size:"small",round:""},on:{click:t.cancelEditHandler}},[t._v(t._s(t.$t("cancelBtnText")))])]:t._e()],2)]),t._v(" "),t.isEditingIntro?i("div",{staticClass:"r-e-w-edit-box"},[i("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.tempEditingIntro,callback:function(e){t.tempEditingIntro=e},expression:"tempEditingIntro"}})],1):[""===t.release.intro?i("div",{staticClass:"r-e-w-edit-add-btn",on:{click:t.editIntroHandler}},[t._v("\n              "+t._s(t.$t("addIntroBtnText"))+"\n            ")]):i("p",[t._v(t._s(t.release.intro))])]],2),t._v(" "),i("div",{staticClass:"r-e-w-release-policy"},[i("h4",[t._v("\n            "+t._s(t.$t("policy"))+"\n            ")]),t._v(" "),i("div",{staticStyle:{position:"relative"}},[t.isShowEditPolicy?t._e():[0===t.release.policies.length?i("div",{staticClass:"r-e-w-r-policy-add-btn",on:{click:t.addPolicyHandler}},[t._v("\n                "+t._s(t.$t("addPolicyBtnText"))+"\n              ")]):i("div",{staticClass:"r-e-w-r-p-list"},[i("policy-list",{attrs:{policyList:t.release.policies},on:{"add-policy":t.addPolicyHandler,"update-policies":t.updatePolicies}})],1)],t._v(" "),t.isShowEditPolicy?i("policy-editor",{staticClass:"r-e-w-r-p-editor",attrs:{"show-footer-btns":"",policy:t.editTmpPolicy},on:{save:t.savePolicyHandler,cancel:t.cancelPolicyHandler}}):t._e()],2)])])]),t._v(" "),i("div",{staticClass:"r-e-l-row r-e-l-r-version",class:{"tuck-up":t.isTuckUpVersion}},[i("h3",[t._v(t._s(t.$t("aboutVersion"))+" "),i("i",{staticClass:"el-icon-arrow-up",on:{click:function(e){t.isTuckUpVersion=!t.isTuckUpVersion}}})]),t._v(" "),i("div",{staticClass:"cont"},[t._t("about-version")],2)])])]):t._e()};a._withStripped=!0;var n=i(718),s=i(714),l=i(716),o=(i(135),{name:"release-editor-layout",components:{PolicyEditor:s.a,PolicyList:l.a,UploadCover:n.a},props:{release:Object,type:String,selectedVersion:String},data:function(){var t=this.$i18n;return{tmpReleaseName:"",isEditingReleaseName:!1,coverImageUrl:this.release.previewImages[0]||"//frcdn.oss-cn-shenzhen.aliyuncs.com/console/img/resource.d29ef4da.jpg",editTmpPolicy:{policyName:t.t("tips[3]"),policyText:""},tempEditingIntro:this.release.intro,releaseStateText:"",isShowEditPolicy:!1,isEditingIntro:!1,isTuckUpRelease:!0,isTuckUpVersion:!1,isReleaseOnline:!1}},watch:{release:function(){this.checkReleaseState()}},methods:{updateRelease:function(t,e){var i=this;return this.$services.ReleaseService.put(this.release.releaseId,t).then(function(t){var a=t.data,n=a.errcode,s=a.ret,l=a.msg,o=a.data;return 0===n&&0===s?(i.$emit("update:release",o),e&&i.$message({type:"success",message:e})):i.$error.showErrorMessage(l),o}).catch(this.$error.showErrorMessage)},uploadCoverSuccess:function(t){var e,i,a=this;"string"==typeof t?(e=[t],i=t):(e=t,i=t[0]),this.updateRelease({previewImages:e},this.$i18n.t("messages[0]")).then(function(){a.coverImageUrl=i})},savePolicyHandler:function(){var t=this,e=this.$i18n,i=this.editTmpPolicy,a=i.policyName,n=i.policyText;this.updateRelease({policyInfo:{addPolicies:[{policyName:a,policyText:window.btoa(n)}]}},e.t("messages[1]")).then(function(){t.editTmpPolicy={policyName:e.t("tips[3]"),policyText:""},t.isShowEditPolicy=!1})},cancelPolicyHandler:function(){this.isShowEditPolicy=!1},addPolicyHandler:function(t){this.isShowEditPolicy=!0},updatePolicies:function(t){var e=this;this.updateRelease({policyInfo:{updatePolicies:[t]}}).then(function(){var i=e.$i18n;1===t.status?e.$message({type:"success",message:"".concat(i.t("policy"),"(").concat(t.policyName,")").concat(i.t("enabled"),"！")}):0===t.status&&e.$message({type:"warning",message:"".concat(i.t("policy"),"(").concat(t.policyName,")").concat(i.t("disabled"),"！")})})},editIntroHandler:function(){this.isEditingIntro=!0,this.tempEditingIntro=this.release.intro},cancelEditHandler:function(){this.isEditingIntro=!1,this.tempEditingIntro=""},saveIntroHandler:function(){var t=this,e=this.$i18n,i=""===this.release.intro?e.t("messages[2]"):e.t("messages[3]"),a=this.tempEditingIntro.replace(/^(\s*)|(\s*)$/g,"");this.updateRelease({intro:a},i).then(function(){t.isEditingIntro=!1})},tapEditName:function(){this.tmpReleaseName=this.release.releaseName,this.isEditingReleaseName=!0},saveEditName:function(){var t=this;this.updateRelease({releaseName:this.tmpReleaseName},this.$i18n.t("messages[4]")).then(function(e){t.isEditingReleaseName=!1})},cancelEditName:function(){this.tmpReleaseName=this.release.releaseName,this.isEditingReleaseName=!1},checkReleaseState:function(){var t=[this.$i18n.t("tips[1]"),this.$i18n.t("tips[2]")],e=this.release.policies,i=e.length;if(i>0){for(var a=0,n=0;n<i;n++)if(1===e[n].status){a=1;break}this.releaseState=a,this.releaseStateText=1===a?"":t[1]}else this.releaseState=-1,this.releaseStateText=t[0]}},created:function(){this.isTuckUpRelease="add"===this.type},mounted:function(){this.checkReleaseState()}}),c=(i(905),i(906),i(3)),r=i(907),p=Object(c.a)(o,a,[],!1,null,"5ec0b1c6",null);"function"==typeof r.default&&Object(r.default)(p),p.options.__file="src/views/release/edit/layout.vue";e.a=p.exports},905:function(t,e,i){"use strict";var a=i(670);i.n(a).a},906:function(t,e,i){"use strict";var a=i(671);i.n(a).a},907:function(t,e,i){"use strict";var a=i(672),n=i.n(a);e.default=n.a}}]);